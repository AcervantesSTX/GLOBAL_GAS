C1

GLOBAL_GAS.BE:C1.ACTION.CAT.EMPLEADOS
  REPLICAR (INSTANCIA) *EJECUTADO POR USUARIO DESDE LA CONSOLA
    VALIDAR EJECUCION DESDE CONSOLA
    CONECTAR
    GLOBAL_GAS.BE:C2.COMMAND.CAT.EMPLEADOS.REPLICAR

GLOBAL_GAS.BE:C1.ACTION.CAT.UNIDADES
  REPLICAR (INSTANCIA) *EJECUTADO POR USUARIO DESDE LA CONSOLA
    VALIDAR EJECUCION DESDE CONSOLA
    CONECTAR
    GLOBAL_GAS.BE:C2.COMMAND.CAT.UNIDADES.REPLICAR

GLOBAL_GAS.BE:C1.ACTION.OPE.SESION
  INICIAR (INSTANCIA) (EMPLEADO, APIKEY) *DEVOLVER JWT
    CONECTAR
    VALIDAR EMPLEADO ID
    VALIDAR APIKEY APIKEY
    GLOBAL_GAS.BE:C2.COMMAND.OPE.SESION.INICIAR

GLOBAL_GAS.BE:C1.TASK.OPE.SESION
  DEPURAR () *DIARIO A LAS 03:00
    FOREACH PLANTA
      CONECTAR
      GLOBAL_GAS.BE:C2.COMMAND.OPE.SESION.DEPURAR
      DESCONECTAR

GLOBAL_GAS.BE:C1.ACTION.OPE.SINCRONIZACION_APLICACION
  CARGAR (AUTHORIZATION, INSTANCIA) (DETALLES)
    CONECTAR
    VALIDAR_SESION
    VALIDAR DETALLES IS_ARRAY
    GLOBAL_GAS.BE:C2.COMMAND.OPE.SINCRONIZACION_APLICACION.CARGAR

GLOBAL_GAS.BE:C1.TASK.OPE.COLA_APLICACION
  DEPURAR () *DIARIO A LAS 03:00
    FOREACH PLANTA
      CONECTAR
      GLOBAL_GAS.BE:C3.STEP.OPE.DAT_COLA_APLICACION.DEPURAR
      DESCONECTAR

GLOBAL_GAS.BE:C1.ACTION.OPE.LIQUIDACIONES
  ASIGNAR_INICIAL_ESTACIONARIO (AUTHORIZATION, INSTANCIA) (ID_GLOBALNET_UNIDAD, FECHAHORA, MEDIDOR_INICIAL, ROTOGAUGE_INICIAL)
    CONECTAR
    VALIDAR_SESION
    VALIDAR ID_GLOBALNET_UNIDAD ID
    VALIDAR FECHA FECHAHORA
    VALIDAR MEDIDOR_INICIAL MONEDA
    VALIDAR ROTOGAUGE_INICIAL MONEDA
    GLOBAL_GAS.BE:C2.COMMAND.OPE.LIQUIDACIONES.ASIGNAR_INICIAL_ESTACIONARIO
  ASIGNAR_FINAL_ESTACIONARIO (AUTHORIZATION, INSTANCIA) (ID_GLOBALNET_UNIDAD, FECHAHORA, MEDIDOR_FINAL, ROTOGAUGE_FINAL)
    CONECTAR
    VALIDAR_SESION
    VALIDAR ID_GLOBALNET_UNIDAD ID
    VALIDAR FECHA FECHAHORA
    VALIDAR MEDIDOR_FINAL MONEDA
    VALIDAR ROTOGAUGE_FINAL MONEDA
    GLOBAL_GAS.BE:C2.COMMAND.OPE.LIQUIDACIONES.ASIGNAR_FINAL_ESTACIONARIO
  VALIDAR_INICIAL_CILINDRO (AUTHORIZATION, INSTANCIA) (ID_GLOBALNET_UNIDAD, FECHAHORA)
    CONECTAR
    VALIDAR_SESION
    VALIDAR ID_GLOBALNET_UNIDAD ID
    VALIDAR FECHA FECHAHORA
    GLOBAL_GAS.BE:C2.COMMAND.OPE.LIQUIDACIONES.VALIDAR_INICIAL_CILINDRO
  VALIDAR_FINAL_CILINDRO (AUTHORIZATION, INSTANCIA) (ID_GLOBALNET_UNIDAD, FECHAHORA)
    CONECTAR
    VALIDAR_SESION
    VALIDAR ID_GLOBALNET_UNIDAD ID
    VALIDAR FECHA FECHAHORA
    GLOBAL_GAS.BE:C2.COMMAND.OPE.LIQUIDACIONES.VALIDAR_FINAL_CILINDRO

GLOBAL_GAS.BE:C1.ACTION.OPE.SINCRONIZACION_GLOBALNET
  INICIAR_AGENTE_DESCARGA ()
    VALIDAR EJECUCION DESDE CONSOLA
    FOREACH PLANTA
      GLOBAL_GAS.BE:C2.COMMAND.OPE.SINCRONIZACION_GLOBALNET.INICIAR_AGENTE_DESCARGA
  INICIAR_AGENTE_CARGA ()
    VALIDAR EJECUCION DESDE CONSOLA
    FOREACH PLANTA
      GLOBAL_GAS.BE:C2.COMMAND.OPE.SINCRONIZACION_GLOBALNET.INICIAR_AGENTE_CARGA
  EJECUTAR_AGENTE_DESCARGA (INSTANCIA)
    VALIDAR EJECUCION DESDE CONSOLA
    CONECTAR
    GLOBAL_GAS.BE:C2.COMMAND.OPE.SINCRONIZACION_GLOBALNET.EJECUTAR_AGENTE_DESCARGA
  EJECUTAR_AGENTE_CARGA (INSTANCIA)
    VALIDAR EJECUCION DESDE CONSOLA
    CONECTAR
    GLOBAL_GAS.BE:C2.COMMAND.OPE.SINCRONIZACION_GLOBALNET.EJECUTAR_AGENTE_CARGA

GLOBAL_GAS.BE:C1.ACTION.CON.EMPLEADOS
  OBTENER_APIKEY (INSTANCIA) (EMPLEADO, CONTRASENA) *DEVUELVE APIKEY
    CONECTAR
    VALIDAR EMPLEADO ID
    VALIDAR CONTRASENA
    GLOBAL_GAS.BE:C2.COMMAND.CON.EMPLEADOS.OBTENER_APIKEY
  CONSULTAR (AUTHORIZATION, INSTANCIA) ()
    CONECTAR
    VALIDAR_SESION
    GLOBAL_GAS.BE:C2.COMMAND.CON.EMPLEADOS.CONSULTAR

GLOBAL_GAS.BE:C1.ACTION.CON.UNIDADES
  CONSULTAR (AUTHORIZATION, INSTANCIA) ()
    CONECTAR
    VALIDAR_SESION
    GLOBAL_GAS.BE:C2.COMMAND.CON.UNIDADES.CONSULTAR

GLOBAL_GAS.BE:C1.ACTION.CON.SINCRONIZACION_APLICACION
  DESCARGAR (AUTHORIZATION, INSTANCIA) (A_PARTIR_DE)
    CONECTAR
    VALIDAR_SESION
    GLOBAL_GAS.BE:C2.COMMAND.CON.SINCRONIZACION_APLICACION

GLOBAL_GAS.BE:C1.ACTION.CON.SESION
  VALIDAR (AUTHORIZATION, INSTANCIA) ()
    CONECTAR
    VALIDAR_SESION

GLOBAL_GAS.BE:C1.ACTION.CON.LIQUIDACIONES
  CONSULTAR (AUTHORIZATION, INSTANCIA) (ID_GLOBALNET_UNIDAD)
    CONECTAR
    VALIDAR_SESION
    VALIDAR ID_GLOBALNET_UNIDAD ID
    GLOBAL_GAS.BE:C2.COMMAND.CON.LIQUIDACIONES.CONSULTAR

